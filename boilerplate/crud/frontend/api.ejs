import { stringify } from 'qs'
import request from '../utils/request'

export function create (data) {
  return request('/apis/<%=metadata.systemCode%>/<%=metadata.entity.name.firstLowerCase()%>', { method: 'POST', body: data })
}

export function update (data) {
  return request('/apis/<%=metadata.systemCode%>/<%=metadata.entity.name.firstLowerCase()%>', { method: 'PUT', body: data })
}

export function remove (id) {
  return request(`/apis/<%=metadata.systemCode%>/<%=metadata.entity.name.firstLowerCase()%>/${id}`, { method: 'DELETE' })
}

export function search (specification) {
  return request(`/apis/<%=metadata.systemCode%>/<%=metadata.entity.name.firstLowerCase()%>s?${stringify(specification, { skipNulls: true })}`, { method: 'GET' })
}

export function get (id) {
  return request(`/apis/<%=metadata.systemCode%>/<%=metadata.entity.name.firstLowerCase()%>/${id}`, { method: 'DELETE' })
}
